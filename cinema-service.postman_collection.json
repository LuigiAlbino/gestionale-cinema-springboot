{
	"info": {
		"_postman_id": "3e2e1ee6-2555-4137-8468-8c7fbc913935",
		"name": "cinema-service",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "45400957"
	},
	"item": [
		{
			"name": "Login e Registrazione",
			"item": [
				{
					"name": "Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"const json = pm.response.json();\r",
									"\r",
									"// Sostituisci \"token\" con la chiave effettiva nella tua risposta JSON\r",
									"pm.environment.set(\"token\", json.token);\r",
									"\r",
									"console.log(\"✅ Token salvato nell'ambiente:\", json.token);\r",
									""
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"admin@admin.com\",\r\n  \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/login",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"login"
							]
						}
					},
					"response": []
				},
				{
					"name": "Registrazione",
					"request": {
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nome\": \"Mario\",\r\n  \"cognome\": \"Rossi\",\r\n  \"recapitoTelefonico\": \"3419988777\",\r\n  \"email\": \"mariorossi@example.com\",\r\n  \"password\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/registrazione",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"registrazione"
							]
						}
					},
					"response": []
				},
				{
					"name": "Modifica password primo accesso",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"email\": \"chiara.conti@email.com\",\r\n  \"vecchiaPassword\": \"password\",\r\n  \"nuovaPassword\": \"admin123\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/auth/modifica-password-primo-accesso",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"auth",
								"modifica-password-primo-accesso"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Film Service",
			"item": [
				{
					"name": "Tutti i Film",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer <eyJhbGciOiJIUzI1NiJ9.eyJydW9sbyI6IlJPTEVfQURNSU4iLCJzdWIiOiJhZG1pbkBleGFtcGxlLmNvbSIsImlhdCI6MTc2MDQzMDAwNiwiZXhwIjoxNzYwNTE2NDA2fQ.rqXhFttGpgr6ksktXezWf3R5srrlRhUEUbynj76j26w>",
								"type": "text"
							}
						],
						"url": {
							"raw": "http://localhost:8080/api/film/tutti-film",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"tutti-film"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cerca per ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/film/3",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"3"
							]
						}
					},
					"response": []
				},
				{
					"name": "Inserisci Film",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n\t\"titolo\": \"Interstellar\",\r\n\t\"durata\": 170,\r\n\t\"descrizione\": \"In un futuro non precisato, un drastico cambiamento climatico colpisce duramente l'agricoltura. Un gruppo di scienziati è intenzionato ad attraversare lo spazio per trovare nuovi luoghi adatti a coltivarlo.\",\r\n\t\"dataUscita\": \"2014\",\r\n\t\"regista\": \"Christopher Nolan\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/film/inserisci-film",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"inserisci-film"
							]
						}
					},
					"response": []
				},
				{
					"name": "Modifica Film",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{   \r\n\t\"titolo\": \"Interstellar\",\r\n\t\"durata\": 170,\r\n\t\"descrizione\": \"In un futuro non precisato, un drastico cambiamento climatico colpisce duramente l'agricoltura. Il granturco è l'unica coltivazione ancora in grado di crescere ed un gruppo di scienziati è intenzionato ad attraversare lo spazio per trovare nuovi luoghi adatti a coltivarlo.\",\r\n\t\"dataUscita\": \"2000\",\r\n\t\"regista\": \"Christopher Nolan\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/film/modifica-film",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"modifica-film"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cerca per regista e anno",
					"protocolProfileBehavior": {
						"disableBodyPruning": true
					},
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/film/cerca-film-per-regista-anno?regista=Christopher Nolan&annoInizio=&annoFine=",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"cerca-film-per-regista-anno"
							],
							"query": [
								{
									"key": "regista",
									"value": "Christopher Nolan"
								},
								{
									"key": "annoInizio",
									"value": ""
								},
								{
									"key": "annoFine",
									"value": ""
								}
							]
						}
					},
					"response": []
				},
				{
					"name": "Cerca per anno",
					"request": {
						"method": "GET",
						"header": []
					},
					"response": []
				},
				{
					"name": "Elimina Film",
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/film/elimina-film/2",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"film",
								"elimina-film",
								"2"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Utente Service",
			"item": [
				{
					"name": "Tutti gli Utenti",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/utenti/tutti-utenti",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"utenti",
								"tutti-utenti"
							]
						}
					},
					"response": []
				},
				{
					"name": "Cerca per ID",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/utenti/6",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"utenti",
								"6"
							]
						}
					},
					"response": []
				},
				{
					"name": "Inserisci Utente",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "POST",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nome\": \"Gino\",\r\n  \"cognome\": \"Albino\",\r\n  \"email\": \"gino.albino@email.com\",\r\n  \"recapitoTelefonico\": \"3339988777\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/utenti/inserisci-utente",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"utenti",
								"inserisci-utente"
							]
						}
					},
					"response": []
				},
				{
					"name": "Modifica utente",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "PATCH",
						"header": [],
						"body": {
							"mode": "raw",
							"raw": "{\r\n  \"nome\": \"Admin\",\r\n  \"cognome\": \"Admin\",\r\n  \"recapitoTelefonico\": \"3206655444\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "http://localhost:8080/api/utenti/modifica-utente/",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"utenti",
								"modifica-utente",
								""
							]
						}
					},
					"response": []
				},
				{
					"name": "Elimina Utente",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/utenti/elimina-utente/7",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"utenti",
								"elimina-utente",
								"7"
							]
						}
					},
					"response": []
				}
			]
		},
		{
			"name": "Prenotazione Service",
			"item": [
				{
					"name": "Mie Prenotazioni",
					"request": {
						"auth": {
							"type": "bearer",
							"bearer": [
								{
									"key": "token",
									"value": "{{token}}",
									"type": "string"
								}
							]
						},
						"method": "GET",
						"header": [],
						"url": {
							"raw": "http://localhost:8080/api/prenotazione/mie-prenotazioni",
							"protocol": "http",
							"host": [
								"localhost"
							],
							"port": "8080",
							"path": [
								"api",
								"prenotazione",
								"mie-prenotazioni"
							]
						}
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	]
}